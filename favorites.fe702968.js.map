{"mappings":"A,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,SEGA,MAAM,EC0CN,SAA0B,CAAA,KAAE,EAAO,CAAA,CAAA,SAAG,EAAW,KAAA,CAAO,EACpD,GAAI,AAAgB,UAAhB,OAAO,EAAmB,MAAM,AAAI,MAAM,qBAC7B,CAAA,QAAb,GAAoB,AAuC5B,SAAyB,CAAQ,EAC7B,IAAM,EAAa,AAAA,EAAA,GAAE,CAAE,aAAvB,CACA,GAAI,EAAW,QAAA,CAAS,GAAW,MAAM,AAAI,MAAM,oBACvD,EA1C4C,GACxC,IAAM,EAAQ,AAqDlB,WACI,IAAM,EAAQ,aAAa,OAAA,CAAQ,aACnC,OAAO,EAAQ,KAAK,KAAA,CAAM,GAAS,EAAE,AACzC,IAvDU,EAAW,AAAa,QAAb,EAAqB,EAAQ,EAAM,MAAA,CAAO,AAAA,GAAQ,EAAK,QAAA,GAAa,GAC/E,EAAa,AA2BvB,SAAuB,CAAK,EACxB,IAAM,EAAa,EAAE,CACrB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAA,CAAQ,IAC1B,EAAW,QAAA,CAAS,CAAK,CAAC,EAAE,CAAC,QAAA,GACjC,EAAW,IAAA,CAAK,CAAK,CAAC,EAAE,CAAC,QAAzB,EAEJ,OAAO,CACX,EAlCqC,GAE3B,EAAO,CACT,KAAA,EACA,UAAW,KAAK,IAAA,CAAK,EAAS,MAAA,CAHlB,IAIZ,WAAA,EACA,QAAS,EAAS,KAAA,CAAO,AAAA,CAAA,EAAO,CAAA,EALpB,GAKmC,AAAA,CAAA,EAAO,CAAA,EAL1C,GAAA,GAMhB,EACA,OAAO,CACX,EDrDM,EAAsB,OAAO,UAAA,CAAW,wBAExC,EAAO,CACT,oBAAqB,SAAS,aAAA,CAAc,2BAC5C,qBAAsB,SAAS,aAAA,CAAc,gCAC7C,0BAA2B,SAAS,aAAA,CAAc,gCAClD,qBAAsB,SAAS,aAAA,CAAc,0BACjD,CAEI,CAAA,EAAoB,OAAA,EAChB,CAAA,CAAC,GAAiB,AAAyB,IAAzB,EAAc,MAAA,AAAW,GAC3C,EAAK,mBAAA,CAAoB,SAAA,CAAU,GAAA,CAAI,a,E,S,E","sources":["<anon>","src/scripts/for-favorites.js","src/scripts/favorites.js","src/lib/utils/local-storage-service.js"],"sourcesContent":["var $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire9016\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire9016\"] = parcelRequire;\n}\n\nvar $juJP5 = parcelRequire(\"juJP5\");\nfunction $70eff1a0bc0e78c2$export$89cbf1a0881c8b9c() {\n    return localStorage.getItem(\"theme\") ?? \"light\";\n}\nconst $70eff1a0bc0e78c2$var$themes = [\n    \"light\",\n    \"dark\"\n];\nfunction $70eff1a0bc0e78c2$export$e6eb54368342cb84(theme) {\n    if (!theme || !$70eff1a0bc0e78c2$var$themes.includes(theme)) throw new Error(\"No 'light' or 'dark' specified\");\n    localStorage.setItem(\"theme\", theme);\n    return theme;\n}\n/**\n* Асинхронно додає або забирає об'єкт даних рецепта з localStorage[\"favorites\"]\n*\n* @param {string} _id Ідентифікатор рецепта.\n*/ async function $70eff1a0bc0e78c2$export$4e462f7dd571a3d(_id) {\n    if (!_id || typeof _id !== \"string\") throw new Error(\"No ID is specified or this is not a string\");\n    const items = $70eff1a0bc0e78c2$var$getStorageFavorites();\n    if (items.length && items.some((item)=>item._id === _id)) $70eff1a0bc0e78c2$var$removeFavoriteItem(items, _id);\n    else {\n        const recipe = await (0, $juJP5.API).fetchRecipe(_id);\n        $70eff1a0bc0e78c2$var$addFavoriteItem(items, recipe);\n    }\n}\n/**\n* Додає або забирає об'єкт даних рецепта з localStorage[\"favorites\"]\n*\n* @param {object} recipe Об'єкт даних рецепта.\n*/ function $70eff1a0bc0e78c2$export$29b9ad84a273f94f(recipe) {\n    if (!recipe || typeof recipe !== \"object\") throw new Error(\"Not a recipe data object\");\n    const items = $70eff1a0bc0e78c2$var$getStorageFavorites();\n    if (items.length && items.some((item)=>item._id === recipe._id)) $70eff1a0bc0e78c2$var$removeFavoriteItem(items, recipe._id);\n    else $70eff1a0bc0e78c2$var$addFavoriteItem(items, recipe);\n}\n/**\n * \n * @param {object} options\n * { page: default = 1, category: default = \"All\" }\n * @returns \n */ function $70eff1a0bc0e78c2$export$90b7466053281c74({ page: page = 1, category: category = \"All\" }) {\n    if (typeof page !== \"number\") throw new Error(\"This is not number\");\n    if (category !== \"All\") $70eff1a0bc0e78c2$var$checkCategories(category);\n    const items = $70eff1a0bc0e78c2$var$getStorageFavorites();\n    const filtered = category === \"All\" ? items : items.filter((item)=>item.category === category);\n    const categories = $70eff1a0bc0e78c2$var$getCategories(items);\n    const perPage = 12;\n    const data = {\n        page: page,\n        totalPage: Math.ceil(filtered.length / perPage),\n        categories: categories,\n        results: filtered.slice((page - 1) * perPage, (page - 1) * perPage + perPage)\n    };\n    return data;\n}\n/**\n * \n * @param {string} _id ідентифікатор рецепта \n * @returns повертає об'єкт рецепта або undefined;\n */ function $70eff1a0bc0e78c2$export$12e9c75656e086f1(_id) {\n    if (!_id || typeof _id !== \"string\") throw new Error(\"No ID is specified or this is not a string\");\n    const items = $70eff1a0bc0e78c2$var$getStorageFavorites();\n    const recipe = items.find((item)=>item._id === _id);\n    return recipe;\n}\n/**\n * \n * @param {object} items \n * @returns Повертає масив категорій що є в localStorage[\"favorites\"]\n */ function $70eff1a0bc0e78c2$var$getCategories(items) {\n    const categories = [];\n    for(let i = 0; i < items.length; i++){\n        if (categories.includes(items[i].category)) continue;\n        categories.push(items[i].category);\n    }\n    return categories;\n}\nfunction $70eff1a0bc0e78c2$var$checkCategories(category) {\n    const categories = (0, $juJP5.API).getCategories;\n    if (categories.includes(category)) throw new Error(\"No category found\");\n}\nfunction $70eff1a0bc0e78c2$var$addFavoriteItem(items, recipe) {\n    items.push(recipe);\n    localStorage.setItem(\"favorites\", JSON.stringify(items));\n}\nfunction $70eff1a0bc0e78c2$var$removeFavoriteItem(items, _id) {\n    for(let i = 0; i < items.length; i++){\n        if (items[i]._id !== _id) continue;\n        items.splice(i, 1);\n    }\n    localStorage.setItem(\"favorites\", JSON.stringify(items));\n}\nfunction $70eff1a0bc0e78c2$var$getStorageFavorites() {\n    const local = localStorage.getItem(\"favorites\");\n    return local ? JSON.parse(local) : [];\n}\n\n\n// const FAVORITE_KEY = \"favorites\";\nconst $ac70c49dd96dcde3$var$favoriteItems = (0, $70eff1a0bc0e78c2$export$90b7466053281c74);\nconst $ac70c49dd96dcde3$var$favoriteCategories = [];\nconst $ac70c49dd96dcde3$var$mediaQueryCondition = window.matchMedia(\"( max-width: 677px )\");\nconst $ac70c49dd96dcde3$var$refs = {\n    favoriteHeroSection: document.querySelector(\".hero-favorites-section\"),\n    emptyFavoriteSection: document.querySelector(\".empty-favorite-list-section\"),\n    favoriteCategoriesSection: document.querySelector(\".favorite-categories-section\"),\n    favoriteCardsSection: document.querySelector(\".favorite-cards-section\")\n};\nif ($ac70c49dd96dcde3$var$mediaQueryCondition.matches) {\n    if (!$ac70c49dd96dcde3$var$favoriteItems || $ac70c49dd96dcde3$var$favoriteItems.length === 0) $ac70c49dd96dcde3$var$refs.favoriteHeroSection.classList.add(\"is-hidden\");\n}\n\n\nparcelRequire(\"a3EbL\");\nparcelRequire(\"725Gb\");\n\n\n//# sourceMappingURL=favorites.fe702968.js.map\n","import \"./favorites\";\nimport './mob-menu';\nimport \"./to_top\";","import { getFavoriteItems } from '../lib/utils/local-storage-service';\n\n// const FAVORITE_KEY = \"favorites\";\nconst favoriteItems = getFavoriteItems;\nconst favoriteCategories = [];\n\nconst mediaQueryCondition = window.matchMedia('( max-width: 677px )');\n\nconst refs = {\n    favoriteHeroSection: document.querySelector(\".hero-favorites-section\"),\n    emptyFavoriteSection: document.querySelector(\".empty-favorite-list-section\"),\n    favoriteCategoriesSection: document.querySelector(\".favorite-categories-section\"),\n    favoriteCardsSection: document.querySelector(\".favorite-cards-section\"),\n}\n\nif (mediaQueryCondition.matches) {\n    if (!favoriteItems || favoriteItems.length === 0) {\n        refs.favoriteHeroSection.classList.add('is-hidden');\n    }\n}\n\n","import { API } from \"../api\";\n\nfunction getTheme() {\n    return localStorage.getItem(\"theme\") ?? \"light\";\n}\nconst themes = [\"light\", \"dark\"]\nfunction changeTheme(theme) {\n    if (!theme || !themes.includes(theme)) throw new Error(\"No 'light' or 'dark' specified\");\n    localStorage.setItem(\"theme\", theme);\n    return theme;\n}\n\n/**\n* Асинхронно додає або забирає об'єкт даних рецепта з localStorage[\"favorites\"]\n*\n* @param {string} _id Ідентифікатор рецепта.\n*/\nasync function asyncToggleFavoriteItem(_id) {\n    if (!_id || typeof _id !== \"string\") throw new Error(\"No ID is specified or this is not a string\");\n    const items = getStorageFavorites();\n    if (items.length && items.some(item => item._id === _id)) {\n        removeFavoriteItem(items, _id);\n    } else {\n        const recipe = await API.fetchRecipe(_id);\n        addFavoriteItem(items, recipe);\n    }\n}\n/**\n* Додає або забирає об'єкт даних рецепта з localStorage[\"favorites\"]\n*\n* @param {object} recipe Об'єкт даних рецепта.\n*/\nfunction toggleFavoriteItem(recipe) {\n    if (!recipe || typeof recipe !== \"object\") throw new Error(\"Not a recipe data object\");\n    const items = getStorageFavorites();\n    if (items.length && items.some(item => item._id === recipe._id)) {\n        removeFavoriteItem(items, recipe._id);\n    } else addFavoriteItem(items, recipe);\n}\n/**\n * \n * @param {object} options\n * { page: default = 1, category: default = \"All\" }\n * @returns \n */\nfunction getFavoriteItems({ page = 1, category = \"All\" }) {\n    if (typeof page !== \"number\") throw new Error(\"This is not number\");\n    if (category !== \"All\") checkCategories(category);\n    const items = getStorageFavorites();\n    const filtered = category === \"All\" ? items : items.filter(item => item.category === category);\n    const categories = getCategories(items);\n    const perPage = 12;\n    const data = {\n        page,\n        totalPage: Math.ceil(filtered.length / perPage),\n        categories,\n        results: filtered.slice((page - 1) * perPage, (page - 1) * perPage + perPage)\n    }\n    return data;\n}\n/**\n * \n * @param {string} _id ідентифікатор рецепта \n * @returns повертає об'єкт рецепта або undefined;\n */\nfunction getFavoriteItem(_id) {\n    if (!_id || typeof _id !== \"string\") throw new Error(\"No ID is specified or this is not a string\");\n    const items = getStorageFavorites();\n    const recipe = items.find(item => item._id === _id);\n    return recipe;\n}\n\n/**\n * \n * @param {object} items \n * @returns Повертає масив категорій що є в localStorage[\"favorites\"]\n */\nfunction getCategories(items) {\n    const categories = [];\n    for (let i = 0; i < items.length; i++) {\n        if (categories.includes(items[i].category)) continue;\n        categories.push(items[i].category);\n    }\n    return categories;\n}\n\nfunction checkCategories(category) {\n    const categories = API.getCategories;\n    if (categories.includes(category)) throw new Error(\"No category found\");\n}\nfunction addFavoriteItem(items, recipe) {\n    items.push(recipe);\n    localStorage.setItem(\"favorites\", JSON.stringify(items));\n}\nfunction removeFavoriteItem(items, _id) {\n    for (let i = 0; i < items.length; i++) {\n        if (items[i]._id !== _id) continue;\n        items.splice(i, 1);\n    }\n    localStorage.setItem(\"favorites\", JSON.stringify(items));\n}\nfunction getStorageFavorites() {\n    const local = localStorage.getItem(\"favorites\");\n    return local ? JSON.parse(local) : [];\n}\nexport {\n    getTheme,\n    changeTheme,\n    asyncToggleFavoriteItem,\n    toggleFavoriteItem,\n    getFavoriteItems,\n    getFavoriteItem\n}"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$juJP5","$ac70c49dd96dcde3$var$favoriteItems","page","category","$70eff1a0bc0e78c2$var$checkCategories","categories","API","getCategories","includes","items","$70eff1a0bc0e78c2$var$getStorageFavorites","local","localStorage","getItem","JSON","parse","filtered","filter","item","$70eff1a0bc0e78c2$var$getCategories","i","length","push","data","totalPage","Math","ceil","results","slice","$ac70c49dd96dcde3$var$mediaQueryCondition","matchMedia","$ac70c49dd96dcde3$var$refs","favoriteHeroSection","document","querySelector","emptyFavoriteSection","favoriteCategoriesSection","favoriteCardsSection","matches","classList","add"],"version":3,"file":"favorites.fe702968.js.map"}